"use strict";const ulElement=document.querySelector(".js_card_list"),ulFavorites=document.querySelector(".js_fav_list"),url="https://api.disneyapi.dev/character?pageSize=50",inputSearch=document.querySelector(".js_inputSearch"),btnSearch=document.querySelector(".js_btnSearch");let listCharactersApi=[],listCharactersFav=[];const charactersLS=JSON.parse(localStorage.getItem("favCharacters"));function init(){charactersLS&&(listCharactersFav=charactersLS,renderFavList()),fetch(url).then(e=>e.json()).then(e=>{listCharactersApi=e.data,renderAllCharacters(listCharactersApi)})}function renderAllCharacters(e){ulElement.innerHTML="";for(const a of e)ulElement.innerHTML+=renderOneCharacter(a);addEventCharacter()}function addEventCharacter(){const e=document.querySelectorAll(".js_list");for(const a of e)a.addEventListener("click",handelClick)}function renderOneCharacter(e){let a=e.imageUrl;return void 0!==a&&""!==a||(a="https://via.placeholder.com/210x295/ffffff/555555/?text=Disney"),`\n        <li id="${e._id}" class="card js_list">\n        <article class="character__box">   \n            <img class="character__img js_img"\n            src="${a}"\n            alt="Disney Characters:${e.name}" />\n            <p class="character__name js_name">"${e.name}"</p>\n        </article>\n        </li>`}function renderOneFav(e){let a=e.imageUrl;return void 0!==a&&""!==a||(a="https://via.placeholder.com/210x295/ffffff/555555/?text=Disney"),`\n        <li id="${e._id}" class="card js_list select">\n        <article class="character__box">\n            <img class="character__img js_img"\n            src="${a}"\n            alt="Disney Characters:${e.name}" />\n            <i class="fa-solid fa-square-xmark js_x"></i>\n            <p class="character__name js_name select">"${e.name}"</p>\n        </article>\n        </li>`}function handelClick(e){const a=parseInt(e.currentTarget.id),r=listCharactersApi.find(e=>e._id===a),t=listCharactersFav.findIndex(e=>e._id===a);-1===t?listCharactersFav.push(r):listCharactersFav.splice(t,1),localStorage.setItem("favCharacters",JSON.stringify(listCharactersFav)),renderFavList(listCharactersFav)}function renderFavList(e){ulFavorites.innerHTML="";for(const e of listCharactersFav)ulFavorites.innerHTML+=renderOneFav(e)}init();const handelSearch=e=>{e.preventDefault();const a=inputSearch.value;renderAllCharacters(listCharactersApi.filter(e=>e.name.toLowerCase().includes(a.toLowerCase())))};function addEventClear(){const e=document.querySelectorAll(".js_x");for(const a of e)e.addEventListener("click",handelX);console.log(e)}btnSearch.addEventListener("click",handelSearch);const handelX=e=>{e.preventDefault();const a=listCharactersFav.findIndex(e=>e._id===id);charactersLS=listCharactersFav.splice(a,1),console.log("hecho clic")};